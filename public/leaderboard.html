<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Leaderboards - Tetris Heaven</title>
		<link rel="icon" type="image/gif" href="images/animated_favicon1.gif">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
		<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
		<link rel="stylesheet" type="text/css" href="styles/main.css">
	</head>
	<body>
		<script type="text/javascript" src="includes/navbar.js"></script>

		<h1 class="text-center">Leaderboards</h1>

		<div class="container">
			<div class="row">
				<div class="col-md-4">
					<div class="panel panel-success">
		  				<!-- Default panel contents -->
					  	<div class="panel-heading">Recovery</div>
					  	<!-- Table -->
					  	<table class="table" id="recoveryTable">
					  		<thead>
					  			<tr>  
					  				<th>Username</th> 
					  				<th>Score</th> 
					  			</tr> 
					  		</thead> 
					  		<tbody> 
					  			  
					  		</tbody> 
					  	</table>
					</div>
				</div>
			
				<div class="col-md-4">
					<div class="panel panel-warning">
	  					<!-- Default panel contents -->
				  		<div class="panel-heading">Your Own Worst Enemy</div>
				  		<!-- Table -->
					  	<table class="table" id="yoweTable"> 
					  		<thead>
					  			<tr> 
					  				<th>Username</th> 
					  				<th>Score</th> 
					  			</tr> 
					  		</thead> 
					  		<tbody> 
					  		</tbody> 
					  	</table>
					</div>
				</div>

				<div class="col-md-4">
					<div class="panel panel-info">
	  					<!-- Default panel contents -->
				  		<div class="panel-heading">Classic</div>
				  		<!-- Table -->
					  		<table class="table" id="classicTable"> 
					  			<thead>
					  				<tr> 
					  					<th>Username</th> 
					  					<th>Score</th> 
					  				</tr> 
					  			</thead> 
					  			<tbody> 
					  			</tbody> 
					  		</table>
						</div>
					</div>
				</div>
			</div>
        
        <script>
        $(document).ready(function(){
            
            
            $.get("highscores", function(data) {
			
                var recoveryScores = data.recoveryScores;
                var classicScores = data.classicScores;
                var yoweScores = data.yoweScores;
                
                console.log(data);
            
                $('#recoveryTable tr').not(':first').remove();
                var html = '';
                for(var i = 0; i < recoveryScores.length && i < 10; i++)
                    html += '<tr><td>' + recoveryScores[i].NAME + 
                        '</td><td>' + recoveryScores[i].SCORE + '</td></tr>';
             
                $('#recoveryTable tr').first().after(html);
                            
                $('#classicTable tr').not(':first').remove();
                var html = '';
                for(var i = 0; i < classicScores.length && i < 10; i++)
                    html += '<tr><td>' + classicScores[i].NAME + 
                        '</td><td>' + classicScores[i].SCORE + '</td></tr>';
             
                $('#classicTable tr').first().after(html);
            
            
                $('#yoweTable tr').not(':first').remove();
                var html = '';
                for(var i = 0; i < yoweScores.length && i < 10; i++)
                    html += '<tr><td>' + yoweScores[i].NAME + 
                        '</td><td>' + yoweScores[i].SCORE + '</td></tr>';
             
                $('#yoweTable tr').first().after(html);
            
            });
             
         
        });
        </script>
	</body>
</html>
